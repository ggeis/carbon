
import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';

import Form from '.';
import Textbox from '../../__experimental__/components/textbox';
import Button from '../button';

<Meta
  title="Design System/Form"
  parameters={{ info: { disable: true }}}
/>

# Form
Represents a document section containing interactive controls for submitting information.

## Quick Start

To use Form, import the `Form` and pass the content, usually various inputs, as children.

Save button is meant to be passed as `saveButton` prop - 
it will be wrapped internally by validation summary if `showSummary` prop is passed as `true`.

```jsx
import { Form } from "carbon-react/lib/components/form"

const MyComponent = () => (
  <Form
    onSubmit={ handleSubmit }
    leftSideButtons={ <Button onClick={ handleCancel }>Cancel</Button> }
    saveButton={ <Button buttonType='primary' type="submit">Save</Button> }
    showSummary
  >
    <Textbox label="Label1" />
    <Textbox label="Label2" />
  </Form>
);
```

## Visuals

### With sticky footer
When `stickyFooter` prop is set as true, footer becomes stickied to the bottom of the screen when necessary - this also works in `Dialog` and `DialogFullScreen`

<Story name="With sticky footer">
  <Form
    onSubmit={ () => console.log('submit')}
    leftSideButtons={ <Button onClick={ () => console.log('cancel') }>Cancel</Button> }
    saveButton={ <Button buttonType='primary' type="submit">Save</Button> }
    stickyFooter
  >
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
    <Textbox label="Textbox" />
  </Form>
</Story> 

### Validations
When `showSummary` prop is set as true, and either `errorCount` or `warningCount` or both are provided, summary with the number of errors and/or warnings is rendered wrapping the save button.

<Preview>
  <Story name="With validation summary">
    <Form
      onSubmit={ () => console.log('submit')}
      leftSideButtons={ <Button onClick={ () => console.log('cancel') }>Cancel</Button> }
      saveButton={ <Button buttonType='primary' type="submit">Save</Button> }
      showSummary
      errorCount={ 2 }
      warningCount={ 1 }
    >
      <Textbox label="Textbox" />
      <Textbox label="Textbox" />
      <Textbox label="Textbox" />
    </Form>
  </Story> 
</Preview>

### Buttons variations
When `buttonAlignment` prop is set as `left`, buttons are aligned to the left side.

<Preview>
  <Story name="With buttons aligned to the left">
    <Form
      onSubmit={ () => console.log('submit')}
      leftSideButtons={ <Button onClick={ () => console.log('cancel') }>Cancel</Button> }
      saveButton={ <Button buttonType='primary' type="submit">Save</Button> }
      rightSideButtons={ <Button onClick={ () => console.log('cancel') }>Reset</Button> }
      buttonAlignment='left'
    >
      <Textbox label="Textbox" />
      <Textbox label="Textbox" />
      <Textbox label="Textbox" />
    </Form>
  </Story> 
</Preview>

### In Dialog
It is a good idea to render `Form` as a content of `Dialog` component.

<Preview>
  <Story id="test-form--in-dialog" name="In Dialog" />
</Preview>

### In DialogFullScreen
It is also a good idea to render `Form` as a content of `DialogFullScreen` component.

<Preview>
  <Story id="test-form--in-dialog-full-screen" name="In DialogFullScreen" />
</Preview>

## Props

<Props of={Form} />